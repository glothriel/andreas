<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}" dir="{{ default `ltr` .Language.LanguageDirection }}">

<head>
    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-5ZF6NWJ4');</script>
    <!-- End Google Tag Manager -->
    {{- partial "head/head.html" . -}}
    {{- block "head" . -}}{{ end }}
</head>

<body class="{{ block `body-class` . }}{{ end }}">
    {{- partial "head/colorScheme" . -}}

    {{/* The container is wider when there's any activated widget */}}
    {{- $hasWidget := false -}}
    {{- range .Site.Params.widgets -}}
    {{- if gt (len .) 0 -}}
    {{- $hasWidget = true -}}
    {{- end -}}
    {{- end -}}
    <div class="container main-container flex on-phone--column {{ if $hasWidget }}extended{{ else }}compact{{ end }}">
        {{- block "left-sidebar" . -}}
        {{ partial "sidebar/left.html" . }}
        {{- end -}}
        <main class="main full-width">
            {{- block "main" . }}{{- end }}
        </main>
        {{- block "right-sidebar" . -}}{{ end }}
    </div>
    {{ partial "footer/include.html" . }}
</body>

</html>